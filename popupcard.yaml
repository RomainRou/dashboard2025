#popup thermostat
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#thermostat_parentale"
  - type: custom:decluttering-card
    template: template_thermostat_card
    variables:
      - climate: climate.thermostat_parentale
#popup meteo
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#meteo"
    close_on_click: false
    width_desktop: 50%
    margin: 7px
  - type: custom:mushroom-chips-card
    chips:
      - type: template
        entity: light.lumiere_maison_complete
        tap_action:
          action: more-info
        hold_action:
          action: none
        double_tap_action:
          action: none
        icon: >
          {% if states['light.lumiere_maison_complete'].attributes['icon'] %}

          {{ states['light.lumiere_maison_complete'].attributes['icon'] }}

          {% elif
          states['light.lumiere_maison_complete'].attributes['device_class'] %}
            mdi:{{ states['light.lumiere_maison_complete'].attributes['device_class'] }}
          {% else %}
            mdi:device-unknown
          {% endif %}
        icon_color: "#03a9f4"
        content: >-
          {{ expand('light.lumiere_maison_complete') | selectattr('state', 'eq',
          'on') | list | length }}
      - type: template
        entity: switch.prise_maison
        tap_action:
          action: more-info
        hold_action:
          action: none
        double_tap_action:
          action: none
        icon: |
          {% if states['switch.prise_maison'].attributes['icon'] %}
          {{ states['switch.prise_maison'].attributes['icon'] }}
          {% elif states['switch.prise_maison'].attributes['device_class'] %}
            mdi:{{ states['switch.prise_maison'].attributes['device_class'] }}
          {% else %}
            mdi:device-unknown
          {% endif %}
        icon_color: "#03a9f4"
        content: >-
          {{ expand('switch.prise_maison') | selectattr('state', 'eq', 'on') |
          list | length }}
      - type: template
        entity: binary_sensor.detecteur_rdc_smoke
        icon: |-
          {% if is_state('binary_sensor.detecteur_rdc_smoke', 'off') %}
            mdi:smoke-detector-variant
          {% else %}
            mdi:smoke
          {% endif %}
        icon_color: |-
          {% if is_state('binary_sensor.detecteur_rdc_smoke', 'off') %}
            green
          {% else %}
            red
          {% endif %}
        content: |2-
            {% if is_state('binary_sensor.detecteur_rdc_smoke', 'on') %}
              Fumée rdc détéctée
            {% else %}
              Fumée rdc non détéctée
            {% endif %}
      - type: template
        entity: binary_sensor.detecteur_etage_smoke
        icon: |-
          {% if is_state('binary_sensor.detecteur_etage_smoke', 'off') %}
            mdi:smoke-detector-variant
          {% else %}
            mdi:smoke
          {% endif %}
        icon_color: |-
          {% if is_state('binary_sensor.detecteur_etage_smoke', 'off') %}
            green
          {% else %}
            red
          {% endif %}
        content: |2-
            {% if is_state('binary_sensor.detecteur_etage_smoke', 'on') %}
              Fumée étage détéctée
            {% else %}
              Fumée étage non détéctée
            {% endif %}
    alignment: center
  - type: energy-distribution
    card_mod:
      style: |
        ha-card{
          border: none;
          background: none;
          }
          
  - type: custom:decluttering-card
    template: template_cover_chip_card
    variables:
      - cover: cover.volets_maison
      - cover_group: cover.volets_maison
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.temperature_moyenne_maison
      - humidity: sensor.humidite_moyenne_maison
      - power_2: sensor.puissance_maison_complete
  - type: vertical-stack
    cards:
      - type: custom:meteofrance-weather-card
        entity: weather.chilleurs_aux_bois
        details: true
        forecast: true
        current: true
        rainChanceEntity: sensor.chilleurs_aux_bois_rain_chance
        uvEntity: sensor.chilleurs_aux_bois_uv
        cloudCoverEntity: sensor.chilleurs_aux_bois_cloud_cover
        freezeChanceEntity: sensor.chilleurs_aux_bois_freeze_chance
        snowChanceEntity: sensor.chilleurs_aux_bois_snow_chance
        alertEntity: sensor.45_weather_alert
        rainForecastEntity: sensor.chilleurs_aux_bois_next_rain
        one_hour_forecast: true
        card_mod:
          style: |
            ha-card{
              border: none;
              background: none;
              }
      - type: custom:weather-chart-card
        entity: weather.chilleurs_aux_bois
        show_main: false
        show_temperature: false
        show_current_condition: false
        show_attributes: false
        show_time: true
        show_time_seconds: false
        show_day: true
        show_date: true
        show_humidity: true
        show_pressure: true
        show_wind_direction: true
        show_wind_speed: true
        show_sun: true
        show_feels_like: false
        show_dew_point: false
        show_wind_gust_speed: false
        show_visibility: false
        show_last_changed: true
        use_12hour_format: false
        icons_size: "50"
        animated_icons: true
        icon_style: style2
        forecast:
          precipitation_type: rainfall
          show_probability: true
          labels_font_size: "11"
          precip_bar_size: "52"
          style: style1
          show_wind_forecast: false
          condition_icons: false
          round_temp: false
          type: daily
          number_of_forecasts: ""
          disable_animation: false
          chart_height: "200"
        units:
          pressure: hPa
          speed: km/h
        time_size: "26"
        day_date_size: "10"
        current_temp_size: "40"
        locale: fr
        uv: sensor.chilleurs_aux_bois_uv
        card_mod:
          style: |
            ha-card{
              border: none;
              background: none;
              }
  - initial_view: dayGridMonth
    type: calendar
    entities:
      - calendar.anniversaire
      - calendar.bus
      - calendar.q1_college_nathan
      - calendar.rdv_ethan
      - calendar.rdv_nathan
      - calendar.q2_college_nathan
      - calendar.rdv_elodie
      - calendar.rdv_famille
      - calendar.rdv_romain
      - calendar.rdv_roxane
      - calendar.vacances_romain
      - calendar.vacances_enfants
      - calendar.vacances_elodie
    theme: dashboard2024
    card_mod:
      style: |
        ha-card{
          border: none;
          background: none;
          }
  - type: custom:mushroom-chips-card
    chips:
      - type: entity
        entity: sensor.calendars
        tap_action:
          action: navigate
          navigation_path: /calendar
        name: ajout evenement
        content_info: name
        icon_color: primary
    alignment: center

#popup systeme
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#systeme"
    margin: 7px
    width_desktop: 50%
  - type: custom:button-card
    tap_action:
      action: none
    hold_action:
      action: none
    aspect_ratio: 5/2
    custom_fields:
      consommation:
        card:
          type: custom:button-card
          entity: sensor.192_168_1_package_id_0_temperature
          tap_action:
            action: none
          hold_action:
            action: none
          name: i5
          show_icon: false
          show_state: true
          styles:
            card:
              - background: none
              - border: none
              - margin-top: "-5px"
            name:
              - color: lightgray
              - font-size: 16px
            state:
              - color: lightgray
              - font-size: 24px
              - justify-self: start
      consommation2:
        card:
          type: custom:button-card
          entity: sensor.nas_power
          tap_action:
            action: none
          hold_action:
            action: none
          name: []
          show_icon: false
          show_state: true
          styles:
            card:
              - background: none
              - border: none
              - margin-top: "-5px"
            state:
              - color: lightgray
              - font-size: 24px
              - justify-self: start
      graph2:
        card:
          type: custom:mini-graph-card
          entities:
            - sensor.192_168_1_package_id_0_temperature
          show:
            icon: false
            name: false
            state: false
          tap_action:
            action: none
          hold_action:
            action: none
          color_thresholds:
            - value: 100
              color: "#FF453A"
            - value: 99.32
              color: "#FC463A"
            - value: 98.65
              color: "#F9473A"
            - value: 97.97
              color: "#F7483A"
            - value: 97.3
              color: "#F4493A"
            - value: 96.62
              color: "#F24B3A"
            - value: 95.95
              color: "#EF4C3B"
            - value: 95.27
              color: "#ED4D3B"
            - value: 94.59
              color: "#EA4E3B"
            - value: 93.92
              color: "#E8503B"
            - value: 93.24
              color: "#E5513B"
            - value: 92.57
              color: "#E3523B"
            - value: 91.89
              color: "#E0533C"
            - value: 91.22
              color: "#DE543C"
            - value: 90.54
              color: "#DB563C"
            - value: 89.86
              color: "#D9573C"
            - value: 89.19
              color: "#D6583C"
            - value: 88.51
              color: "#D4593C"
            - value: 87.84
              color: "#D15B3D"
            - value: 87.16
              color: "#CE5C3D"
            - value: 86.49
              color: "#CC5D3D"
            - value: 85.81
              color: "#C95E3D"
            - value: 85.14
              color: "#C7603D"
            - value: 84.46
              color: "#C4613E"
            - value: 83.78
              color: "#C2623E"
            - value: 83.11
              color: "#BF633E"
            - value: 82.43
              color: "#BD643E"
            - value: 81.76
              color: "#BA663E"
            - value: 81.08
              color: "#B8673E"
            - value: 80.41
              color: "#B5683F"
            - value: 79.73
              color: "#B3693F"
            - value: 79.05
              color: "#B06B3F"
            - value: 78.38
              color: "#AE6C3F"
            - value: 77.7
              color: "#AB6D3F"
            - value: 77.03
              color: "#A96E3F"
            - value: 76.35
              color: "#A67040"
            - value: 75.68
              color: "#A47140"
            - value: 75
              color: "#A17240"
            - value: 74.32
              color: "#9E7340"
            - value: 73.65
              color: "#9C7440"
            - value: 72.97
              color: "#997641"
            - value: 72.3
              color: "#977741"
            - value: 71.62
              color: "#947841"
            - value: 70.95
              color: "#927941"
            - value: 70.27
              color: "#8F7B41"
            - value: 69.59
              color: "#8D7C41"
            - value: 68.92
              color: "#8A7D42"
            - value: 68.24
              color: "#887E42"
            - value: 67.57
              color: "#858042"
            - value: 66.89
              color: "#838142"
            - value: 66.22
              color: "#808242"
            - value: 65.54
              color: "#7E8342"
            - value: 64.86
              color: "#7B8443"
            - value: 64.19
              color: "#798643"
            - value: 63.51
              color: "#768743"
            - value: 62.84
              color: "#748843"
            - value: 62.16
              color: "#718943"
            - value: 61.49
              color: "#6E8B44"
            - value: 60.81
              color: "#6C8C44"
            - value: 60.14
              color: "#698D44"
            - value: 59.46
              color: "#678E44"
            - value: 58.78
              color: "#649044"
            - value: 58.11
              color: "#629144"
            - value: 57.43
              color: "#5F9245"
            - value: 56.76
              color: "#5D9345"
            - value: 56.08
              color: "#5A9445"
            - value: 55.41
              color: "#589645"
            - value: 54.73
              color: "#559745"
            - value: 54.05
              color: "#539845"
            - value: 53.38
              color: "#509946"
            - value: 52.7
              color: "#4E9B46"
            - value: 52.03
              color: "#4B9C46"
            - value: 51.35
              color: "#499D46"
            - value: 50.68
              color: "#469E46"
            - value: 50
              color: "#44A047"
            - value: 47.92
              color: "#429D4E"
            - value: 45.83
              color: "#419A55"
            - value: 43.75
              color: "#40975C"
            - value: 41.67
              color: "#3F9563"
            - value: 39.58
              color: "#3E926B"
            - value: 37.5
              color: "#3D8F72"
            - value: 35.42
              color: "#3B8D79"
            - value: 33.33
              color: "#3A8A80"
            - value: 31.25
              color: "#398787"
            - value: 29.17
              color: "#38848F"
            - value: 27.08
              color: "#378296"
            - value: 25
              color: "#367F9D"
            - value: 22.92
              color: "#347CA4"
            - value: 20.83
              color: "#337AAB"
            - value: 18.75
              color: "#3277B3"
            - value: 16.67
              color: "#3174BA"
            - value: 14.58
              color: "#3071C1"
            - value: 12.5
              color: "#2F6FC8"
            - value: 10.42
              color: "#2D6CCF"
            - value: 8.33
              color: "#2C69D7"
            - value: 6.25
              color: "#2B67DE"
            - value: 4.17
              color: "#2A64E5"
            - value: 2.08
              color: "#2961EC"
            - value: 0
              color: "#285FF4"
          hours_to_show: 36
          points_per_hour: 0.5
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: none;
                background: none;
                width: 100%;
              }
              .name {
                --primary-text-color: #00000000;
              } 
      graph:
        card:
          type: custom:mini-graph-card
          entities:
            - sensor.nas_power
          show:
            icon: false
            name: false
            state: false
            graph: bar
          tap_action:
            action: none
          hold_action:
            action: none
          color_thresholds:
            - value: 100
              color: "#FF453A"
            - value: 99.71
              color: "#FE4639"
            - value: 99.41
              color: "#FE4838"
            - value: 99.12
              color: "#FE4A38"
            - value: 98.82
              color: "#FE4B37"
            - value: 98.53
              color: "#FE4D37"
            - value: 98.24
              color: "#FE4F36"
            - value: 97.94
              color: "#FE5135"
            - value: 97.65
              color: "#FE5235"
            - value: 97.35
              color: "#FE5434"
            - value: 97.06
              color: "#FE5634"
            - value: 96.76
              color: "#FE5733"
            - value: 96.47
              color: "#FE5933"
            - value: 96.18
              color: "#FE5B32"
            - value: 95.88
              color: "#FE5D31"
            - value: 95.59
              color: "#FE5E31"
            - value: 95.29
              color: "#FE6030"
            - value: 95
              color: "#FE6230"
            - value: 94.71
              color: "#FE632F"
            - value: 94.41
              color: "#FE652F"
            - value: 94.12
              color: "#FE672E"
            - value: 93.82
              color: "#FE692D"
            - value: 93.53
              color: "#FE6A2D"
            - value: 93.24
              color: "#FE6C2C"
            - value: 92.94
              color: "#FE6E2C"
            - value: 92.65
              color: "#FE6F2B"
            - value: 92.35
              color: "#FE712B"
            - value: 92.06
              color: "#FE732A"
            - value: 91.76
              color: "#FE7529"
            - value: 91.47
              color: "#FE7629"
            - value: 91.18
              color: "#FE7828"
            - value: 90.88
              color: "#FE7A28"
            - value: 90.59
              color: "#FE7B27"
            - value: 90.29
              color: "#FE7D26"
            - value: 90
              color: "#FE7F26"
            - value: 89.71
              color: "#FE8125"
            - value: 89.41
              color: "#FE8225"
            - value: 89.12
              color: "#FE8424"
            - value: 88.82
              color: "#FE8624"
            - value: 88.53
              color: "#FE8723"
            - value: 88.24
              color: "#FE8922"
            - value: 87.94
              color: "#FE8B22"
            - value: 87.65
              color: "#FE8D21"
            - value: 87.35
              color: "#FE8E21"
            - value: 87.06
              color: "#FE9020"
            - value: 86.76
              color: "#FE9220"
            - value: 86.47
              color: "#FE941F"
            - value: 86.18
              color: "#FE951E"
            - value: 85.88
              color: "#FE971E"
            - value: 85.59
              color: "#FE991D"
            - value: 85.29
              color: "#FE9A1D"
            - value: 85
              color: "#FE9C1C"
            - value: 84.71
              color: "#FE9E1C"
            - value: 84.41
              color: "#FEA01B"
            - value: 84.12
              color: "#FEA11A"
            - value: 83.82
              color: "#FEA31A"
            - value: 83.53
              color: "#FEA519"
            - value: 83.24
              color: "#FEA619"
            - value: 82.94
              color: "#FEA818"
            - value: 82.65
              color: "#FEAA17"
            - value: 82.35
              color: "#FEAC17"
            - value: 82.06
              color: "#FEAD16"
            - value: 81.76
              color: "#FEAF16"
            - value: 81.47
              color: "#FEB115"
            - value: 81.18
              color: "#FEB215"
            - value: 80.88
              color: "#FEB414"
            - value: 80.59
              color: "#FEB613"
            - value: 80.29
              color: "#FEB813"
            - value: 80
              color: "#FEB912"
            - value: 79.71
              color: "#FEBB12"
            - value: 79.41
              color: "#FEBD11"
            - value: 79.12
              color: "#FEBE11"
            - value: 78.82
              color: "#FEC010"
            - value: 78.53
              color: "#FEC20F"
            - value: 78.24
              color: "#FEC40F"
            - value: 77.94
              color: "#FEC50E"
            - value: 77.65
              color: "#FEC70E"
            - value: 77.35
              color: "#FEC90D"
            - value: 77.06
              color: "#FECA0D"
            - value: 76.76
              color: "#FECC0C"
            - value: 76.47
              color: "#FECE0B"
            - value: 76.18
              color: "#FED00B"
            - value: 75.88
              color: "#FED10A"
            - value: 75.59
              color: "#FED30A"
            - value: 75.29
              color: "#FED509"
            - value: 75
              color: "#FED709"
            - value: 74.59
              color: "#FAD60A"
            - value: 74.18
              color: "#F7D50B"
            - value: 73.77
              color: "#F4D40C"
            - value: 73.36
              color: "#F1D30D"
            - value: 72.95
              color: "#EED20E"
            - value: 72.54
              color: "#EBD10F"
            - value: 72.13
              color: "#E8D010"
            - value: 71.72
              color: "#E5CF11"
            - value: 71.31
              color: "#E2CE12"
            - value: 70.9
              color: "#DFCD13"
            - value: 70.49
              color: "#DCCD14"
            - value: 70.08
              color: "#D9CC15"
            - value: 69.67
              color: "#D6CB16"
            - value: 69.26
              color: "#D3CA17"
            - value: 68.85
              color: "#D0C918"
            - value: 68.44
              color: "#CDC819"
            - value: 68.03
              color: "#CAC71A"
            - value: 67.62
              color: "#C7C61B"
            - value: 67.21
              color: "#C4C51C"
            - value: 66.8
              color: "#C1C41D"
            - value: 66.39
              color: "#BDC41E"
            - value: 65.98
              color: "#BAC31F"
            - value: 65.57
              color: "#B7C220"
            - value: 65.16
              color: "#B4C121"
            - value: 64.75
              color: "#B1C022"
            - value: 64.34
              color: "#AEBF23"
            - value: 63.93
              color: "#ABBE24"
            - value: 63.52
              color: "#A8BD25"
            - value: 63.11
              color: "#A5BC26"
            - value: 62.7
              color: "#A2BB27"
            - value: 62.3
              color: "#9FBB28"
            - value: 61.89
              color: "#9CBA29"
            - value: 61.48
              color: "#99B92A"
            - value: 61.07
              color: "#96B82B"
            - value: 60.66
              color: "#93B72C"
            - value: 60.25
              color: "#90B62D"
            - value: 59.84
              color: "#8DB52E"
            - value: 59.43
              color: "#8AB42F"
            - value: 59.02
              color: "#87B330"
            - value: 58.61
              color: "#84B231"
            - value: 58.2
              color: "#80B232"
            - value: 57.79
              color: "#7DB133"
            - value: 57.38
              color: "#7AB034"
            - value: 56.97
              color: "#77AF35"
            - value: 56.56
              color: "#74AE36"
            - value: 56.15
              color: "#71AD37"
            - value: 55.74
              color: "#6EAC38"
            - value: 55.33
              color: "#6BAB39"
            - value: 54.92
              color: "#68AA3A"
            - value: 54.51
              color: "#65A93B"
            - value: 54.1
              color: "#62A93C"
            - value: 53.69
              color: "#5FA83D"
            - value: 53.28
              color: "#5CA73E"
            - value: 52.87
              color: "#59A63F"
            - value: 52.46
              color: "#56A540"
            - value: 52.05
              color: "#53A441"
            - value: 51.64
              color: "#50A342"
            - value: 51.23
              color: "#4DA243"
            - value: 50.82
              color: "#4AA144"
            - value: 50.41
              color: "#47A045"
            - value: 50
              color: "#44A047"
            - value: 47.92
              color: "#44A047"
            - value: 45.83
              color: "#44A047"
            - value: 43.75
              color: "#44A047"
            - value: 41.67
              color: "#44A047"
            - value: 39.58
              color: "#44A047"
            - value: 37.5
              color: "#44A047"
            - value: 35.42
              color: "#44A047"
            - value: 33.33
              color: "#44A047"
            - value: 31.25
              color: "#44A047"
            - value: 29.17
              color: "#44A047"
            - value: 27.08
              color: "#44A047"
            - value: 25
              color: "#44A047"
            - value: 22.92
              color: "#44A047"
            - value: 20.83
              color: "#44A047"
            - value: 18.75
              color: "#44A047"
            - value: 16.67
              color: "#44A047"
            - value: 14.58
              color: "#44A047"
            - value: 12.5
              color: "#44A047"
            - value: 10.42
              color: "#44A047"
            - value: 8.33
              color: "#44A047"
            - value: 6.25
              color: "#44A047"
            - value: 4.17
              color: "#44A047"
            - value: 2.08
              color: "#44A047"
            - value: 0
              color: "#44A047"
          hours_to_show: 36
          points_per_hour: 0.5
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: none;
                background: none;
                width: 100%;
              }
              .name {
                --primary-text-color: #00000000;
              }
    styles:
      card:
        - background: none
        - border: none
      custom_fields:
        consommation:
          - position: absolute
          - top: "-2%"
          - left: 3%
        consommation2:
          - position: absolute
          - top: "-2%"
          - left: 85%
        graph:
          - filter: opacity(70%)
          - position: absolute
          - top: 40%
          - left: 0%
          - right: 0%
          - bottom: 0%
        graph2:
          - filter: opacity(70%)
          - position: absolute
          - top: 40%
          - left: 0%
          - right: 0%
          - bottom: 0%
 - type: custom:decluttering-card
    template: template_entity_card
    variables:
      - entity: switch.nas
      - name: nas
  - type: entities
    entities:
      - type: custom:fold-entity-row
        head:
          type: section
          label: Tel
        entities:
          - type: custom:fold-entity-row
            head:
              type: section
              label: Tel romain
            entities:
              - type: custom:mushroom-entity-card
                entity: device_tracker.tel_romain
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }
              - type: custom:mushroom-entity-card
                entity: sensor.gaming_g_series_battery_state
                name: Mode
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
              - type: custom:mushroom-entity-card
                entity: sensor.gaming_g_series_battery_level
                name: Etat batterie
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }  
              - type: custom:mushroom-entity-card
                entity: sensor.maison_distance_avec_tel_romain
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }                       
          - type: custom:fold-entity-row
            head:
              type: section
              label: Tel elodie
            entities:
              - type: custom:mushroom-entity-card
                entity: device_tracker.tel_elodie
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }
              - type: custom:mushroom-entity-card
                entity: sensor.tel_elodie_battery_state
                name: Mode
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
              - type: custom:mushroom-entity-card
                entity: sensor.tel_elodie_battery_level
                name: Etat batterie
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }  
              - type: custom:mushroom-entity-card
                entity: sensor.maison_distance_avec_tel_elodie
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }  
          - type: custom:fold-entity-row
            head:
              type: section
              label: Tel nathan
            entities:
              - type: custom:mushroom-entity-card
                entity: device_tracker.nathan
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }
              - type: custom:mushroom-entity-card
                entity: sensor.tel_nathan_battery_state
                name: Mode
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
              - type: custom:mushroom-entity-card
                entity: sensor.tel_nathan_battery_level
                name: Etat batterie
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }  
              - type: custom:mushroom-entity-card
                entity: sensor.maison_distance_avec_tel_nathan
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }             
    card_mod:
      style: |
        :host {
          --divider-color: #0000;
        }
        ha-card {
         color: white;
         border: none;
         background : none ;
        }
         .card-header {
         font-size: 26px;
        }
  - type: entities
    entities:
      - type: custom:fold-entity-row
        head:
          type: section
          label: Proxmox
        entities:
          - type: custom:fold-entity-row
            head:
              type: section
              label: pve
            entities:
              - type: custom:mushroom-entity-card
                entity: sensor.proxmox_containers_running
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }
              - type: custom:mushroom-entity-card
                entity: sensor.proxmox_virtual_machines_running
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }
              - type: custom:mushroom-entity-card
                entity: sensor.proxmox_last_boot
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }
              - type: custom:mushroom-entity-card
                entity: sensor.proxmox_total_updates
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }
              - type: custom:mushroom-entity-card
                entity: binary_sensor.proxmox_updates_packages
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }           
          - type: custom:fold-entity-row
            head:
              type: section
              label: Adguard
            entities:
              - type: custom:mushroom-entity-card
                entity: sensor.adguard_cpu_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.adguard_disk_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.adguard_last_boot
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
              - type: custom:mushroom-entity-card
                entity: sensor.adguard_memory_free
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }          
              - type: custom:mushroom-entity-card
                entity: sensor.adguard_memory_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.adguard_memory_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.adguard_node
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }              
              - type: custom:mushroom-entity-card
                entity: binary_sensor.adguard_status
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }                
          - type: custom:fold-entity-row
            head:
              type: section
              label: Mqtt
            entities:
              - type: custom:mushroom-entity-card
                entity: sensor.mqtt_cpu_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.mqtt_disk_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.mqtt_last_boot
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
              - type: custom:mushroom-entity-card
                entity: sensor.mqtt_memory_free
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }          
              - type: custom:mushroom-entity-card
                entity: sensor.mqtt_memory_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.mqtt_memory_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.mqtt_node
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }              
              - type: custom:mushroom-entity-card
                entity: binary_sensor.mqtt_status
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }      
          - type: custom:fold-entity-row
            head:
              type: section
              label: Zigbee2mqtt
            entities:
              - type: custom:mushroom-entity-card
                entity: sensor.zigbee2mqtt_cpu_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.zigbee2mqtt_disk_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.zigbee2mqtt_last_boot
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
              - type: custom:mushroom-entity-card
                entity: sensor.zigbee2mqtt_memory_free
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }          
              - type: custom:mushroom-entity-card
                entity: sensor.zigbee2mqtt_memory_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.zigbee2mqtt_memory_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.zigbee2mqtt_node
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }              
              - type: custom:mushroom-entity-card
                entity: binary_sensor.zigbee2mqtt_status
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }      
          - type: custom:fold-entity-row
            head:
              type: section
              label: Mariadb
            entities:
              - type: custom:mushroom-entity-card
                entity: sensor.mariadb_cpu_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.mariadb_disk_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.mariadb_last_boot
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
              - type: custom:mushroom-entity-card
                entity: sensor.mariadb_memory_free
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }          
              - type: custom:mushroom-entity-card
                entity: sensor.mariadb_memory_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.mariadb_memory_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.mariadb_node
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }              
              - type: custom:mushroom-entity-card
                entity: binary_sensor.mariadb_status
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
          - type: custom:fold-entity-row
            head:
              type: section
              label: Open media vault
            entities:
              - type: custom:mushroom-entity-card
                entity: sensor.omv_cpu_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.omv_disk_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.omv_last_boot
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
              - type: custom:mushroom-entity-card
                entity: sensor.omv_memory_free
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }          
              - type: custom:mushroom-entity-card
                entity: sensor.omv_memory_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.omv_memory_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.omv_node
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }              
              - type: custom:mushroom-entity-card
                entity: binary_sensor.omv_status
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
          - type: custom:fold-entity-row
            head:
              type: section
              label: Home assistant
            entities:
              - type: custom:mushroom-entity-card
                entity: sensor.start_time
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      } 
              - type: custom:mushroom-entity-card
                entity: sensor.homeassistant_cpu_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.homeassistant_disk_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.homeassistant_last_boot
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
              - type: custom:mushroom-entity-card
                entity: sensor.homeassistant_memory_free
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }          
              - type: custom:mushroom-entity-card
                entity: sensor.homeassistant_memory_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.homeassistant_memory_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.homeassistant_node
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }              
              - type: custom:mushroom-entity-card
                entity: binary_sensor.homeassistant_status
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }     
          - type: custom:fold-entity-row
            head:
              type: section
              label: Nginx
            entities:
              - type: custom:mushroom-entity-card
                entity: sensor.nginx_cpu_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.nginx_disk_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }    
              - type: custom:mushroom-entity-card
                entity: sensor.nginx_last_boot
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }   
              - type: custom:mushroom-entity-card
                entity: sensor.nginx_memory_free
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }          
              - type: custom:mushroom-entity-card
                entity: sensor.nginx_memory_used
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.nginx_memory_used_percentage
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }               
              - type: custom:mushroom-entity-card
                entity: sensor.nginx_node
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }              
              - type: custom:mushroom-entity-card
                entity: binary_sensor.nginx_status
                card_mod:
                  style: |
                    ha-card{
                      background: none;
                      border: none;
                      }                   
    card_mod:
      style: |
        :host {
          --divider-color: #0000;
        }
        ha-card {
         color: white;
         border: none;
         background : none ;
        }
         .card-header {
         font-size: 26px;
        }
  - type: map
    entities:
      - entity: device_tracker.romain
      - entity: device_tracker.nathan
      - entity: device_tracker.tel_elodie
    theme_mode: auto
    hours_to_show: 1
    geo_location_sources:
      - Aucune source de géolocalisation disponible au

#popup salon
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#salon"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.salon_temperature
      - humidity: sensor.salon_humidity
      - power_2: sensor.salon_1_power
  - type: custom:decluttering-card
    template: template_cover_chip_card
    variables:
      - cover: cover.volet_salon
  - type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: switch.salon_1
          - name: salon
      - type: custom:decluttering-card
        template: template_opening_card
        variables:
          - entity: binary_sensor.entree_contact
          - name: porte d'entré
  - type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: light.salon
          - name: salon
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: media_player.samsung_7_series_65
          - name: tv salon
  - type: custom:decluttering-card
    template: template_alarm_card
    variables:
      - entity: alarm_control_panel.alarmo
      - name: alarm
      
#popup cuisine
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#cuisine"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.cuisine_temperature
      - humidity: sensor.cuisine_humidity
      - power_2: sensor.plan_de_travail_5_power
  - type: custom:decluttering-card
    template: template_cover_chip_card
    variables:
      - cover: cover.volet_cuisine
  - type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: light.cuisine_left
          - name: cuisine
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: light.cuisine_right
          - name: plan de travail
  - type: custom:decluttering-card
    template: template_entity_card
    variables:
      - entity: light.cuisine_center
      - name: plaque de cuisson
      
#popup salle a manger
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#salle_a_manger"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.salon_temperature
      - humidity: sensor.salon_humidity
  - type: custom:decluttering-card
    template: template_cover_chip_card
    variables:
      - cover: cover.volet_salle_a_manger
  - type: custom:decluttering-card
    template: template_entity_card
    variables:
      - entity: switch.salon_salle_a_manger_right
      - name: salle a manger

#popup couloir
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#couloir"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_entity_card
    variables:
      - entity: light.couloir
      - name: couloir


#popup salle de bain rdc
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#sdb_rdc"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.salle_de_bain_bas_temperature
      - humidity: sensor.salle_de_bain_bas_humidity

#popup chambre parentale
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#chambre_parentale"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.chambre_parentale_temperature
      - humidity: sensor.salon_humidity
      - power_2: sensor.chambre_romain_power
  - type: custom:decluttering-card
    template: template_cover_chip_card
    variables:
      - cover: cover.volet_chambre_parentale
  - type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: switch.chambre_parentale
          - name: chambre parentale
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: switch.chambre_romain
          - name: chambre romain

#popup chambre d'amis
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#chambre_d_amis"
    close_on_click: false
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.chambre_d_amis_temperature
      - humidity: sensor.chambre_d_amis_humidity
      - power_2: sensor.nas_power
  - type: custom:decluttering-card
    template: template_cover_chip_card
    variables:
      - cover: cover.volet_chambre_damis
  - type: custom:decluttering-card
    template: template_entity_card
    variables:
      - entity: light.chambre_damis
      - name: chambre d'amis

#popup chambre rox
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#chambre_rox"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.chambre_rox_temperature
      - humidity: sensor.chambre_rox_humidity
  - type: custom:decluttering-card
    template: template_cover_chip_card
    variables:
      - cover: cover.volet_chambre_rox
  - type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: switch.chambre_rox
          - name: chambre rox
      - type: custom:decluttering-card
        template: template_opening_card
        variables:
          - entity: binary_sensor.fenetre_rox_contact
          - name: fenetre
  - type: custom:decluttering-card
    template: template_pronote_card

#popup wc rdc
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#wcrdc"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.wc_bas_temperature
      - humidity: sensor.wc_bas_humidity

#popup buanderie
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#buanderie"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.buanderie_temperature
      - humidity: sensor.buanderie_humidity
      - power_1: sensor.machine_a_laver_power
      - power_3: sensor.seche_linge_power
  - type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: switch.machine_a_laver
          - name: lave linge
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: switch.seche_linge
          - name: seche_linge

#popup wc etage
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#wcetage"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.wc_etage_temperature
      - humidity: sensor.wc_etage_humidity
      
#popup chambre ethan
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#chambre_ethan"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.chambre_ethan_temperature
      - humidity: sensor.chambre_ethan_humidity
  - type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: switch.chambre_ethan
          - name: chambre ethan
      - type: custom:decluttering-card
        template: template_opening_card
        variables:
          - entity: binary_sensor.fenetre_ethan_contact
          - name: fenetre
  - type: custom:decluttering-card
    template: template_pronote_card

#popup garage
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: '#garage'
    margin: 7px
    width_desktop: 50%
  - type: conditional
    conditions:
      - condition: state
        entity: alarm_control_panel.alarmo
        state: armed_away
    card:
      type: custom:frigate-card
      cameras:
        - camera_entity: camera.garage
      card_mod:
        style: |
          ha-card{
            border: none;
            background: none;
            }

#popup chambre nathan
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#chambre_nathan"
    width_desktop: 50%
    margin: 7px
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.chambre_nathan_temperature
      - humidity: sensor.chambre_nathan_humidity
  - type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: switch.chambre_nathan
          - name: chambre nathan
      - type: custom:decluttering-card
        template: template_opening_card
        variables:
          - entity: binary_sensor.fenetre_nathan_contact
          - name: fenetre
  - type: horizontal-stack
    cards:
      - type: custom:decluttering-card
        template: template_entity_card
        variables:
          - entity: media_player.continental_2k_android_tv
          - name: tv nathan
  - type: custom:decluttering-card
    template: template_pronote_card
    variables:
      - nom_prenom: 

#popup salle de bain etage
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: '#sdb_etage'
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.salle_de_bain_etage_temperature
      - humidity: sensor.salle_de_bain_etage_humidity

#popup exterieur      
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#exterieur"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.chilleurs_aux_bois_temperature
      - humidity: sensor.chilleurs_aux_bois_humidity
  - type: custom:decluttering-card
    template: template_entity_card
    variables:
      - entity: light.exterieur_arriere
      - name: exterieur
  - type: conditional
    conditions:
      - condition: state
        entity: alarm_control_panel.alarmo
        state: armed_away
    card:
      type: custom:frigate-card
      cameras:
        - camera_entity: camera.exterieur_1
        - camera_entity: camera.exterieur_2
        - camera_entity: camera.exterieur_3
        - camera_entity: camera.exterieur_4
      card_mod:
        style: |
          ha-card{
            border: none;
            background: none;
            }

#popup palier
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#palier"
    margin: 7px
    width_desktop: 50%
  - type: custom:decluttering-card
    template: template_mini_graph_card
    variables:
      - temp: sensor.palier_temperature
      - humidity: sensor.palier_humidity
  - type: custom:decluttering-card
    template: template_entity_card
    variables:
      - entity: light.placard_etage
      - name: placard etage

#popup camera          
type: vertical-stack
cards:
  - type: custom:bubble-card
    card_type: pop-up
    hash: "#cam_interieur"
  - type: custom:frigate-card
    cameras:
      - camera_entity: camera.tapo_c210_ad69_hd_stream
    card_mod:
      style: |
        ha-card{
          border: none;
          background: none;
          }  
